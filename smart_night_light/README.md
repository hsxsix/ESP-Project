
# 基于micropython的智能灯

## 简介

我本来只是想做一个人体感应和声音感应以及光线感应的三合一传感器来联动家里的其他设备，看着还有空余的空间和资源，就顺便就加了个灯。

## 功能

作为一款"智能灯",远程控制是不可少的功能，具体功能如下：

1. 手动开关，通过触摸开关来手动开关灯
2. 远程控制，包括颜色、亮度、特效调节（通过手机控制）
3. 传感器自动感应：声音（轻轻拍手就能点亮，灵敏度可调），人体（感应到有人靠近亮灯），光线（检测当前环境的光照强度，来自动决定是否开灯）
4. 天猫精灵语音控制（开关、颜色、亮度控制）
5. 人体、声音、光线传感器感应状态上报（方便和其他智能设备联动）
6. 配置完善，系统健壮，解决了micropython的mqtt断线的老问题，无网可单机，有网就联网（没在代码里下毒）

## 清单

* 硬件:
  * esp8266
  * ws2818（8位或者12位）
  * 人体感应传感器
  * 声音传感器
  * 光线传感器
  * 电容触摸开关
  * 导线若干
  * 10K电阻若干
  * microUSB接口
  * 5V转3.3V电压转换器
  * USB-TTL

预计50左右，视传感器型号而定

* 软件：
  * micropython
  * MQTT Broker(可选，用于远程控制)
  * Home Assistant(可选，用于web控制)